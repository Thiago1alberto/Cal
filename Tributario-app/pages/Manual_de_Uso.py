"""Manual de Uso - Como usar a AnÃ¡lise TributÃ¡ria RTI"""import streamlit as st# ConfiguraÃ§Ã£o da pÃ¡ginast.set_page_config(    page_title="Manual de Uso - RTI",    page_icon="ğŸ“–",    layout="wide")# CSS customizadost.markdown("""<style>    .main-header {        background: linear-gradient(90deg, #1e3c72 0%, #2a5298 100%);        padding: 2rem;        border-radius: 10px;        color: white;        text-align: center;        margin-bottom: 2rem;    }        .step-card {        background: #ffffff;        padding: 1.5rem;        border-radius: 10px;        border: 1px solid #e0e0e0;        margin: 1rem 0;        box-shadow: 0 2px 4px rgba(0,0,0,0.1);    }        .tip-card {        background: #e8f5e8;        padding: 1rem;        border-radius: 8px;        border-left: 4px solid #28a745;        margin: 1rem 0;    }        .warning-card {        background: #fff3cd;        padding: 1rem;        border-radius: 8px;        border-left: 4px solid #ffc107;        margin: 1rem 0;    }        .important-card {        background: #f8d7da;        padding: 1rem;        border-radius: 8px;        border-left: 4px solid #dc3545;        margin: 1rem 0;    }</style>""", unsafe_allow_html=True)# CabeÃ§alhost.markdown("""<div class="main-header">    <h1>ğŸ“– Manual de Uso</h1>    <p>Guia prÃ¡tico para usar a AnÃ¡lise TributÃ¡ria RTI</p></div>""", unsafe_allow_html=True)# PreparaÃ§Ã£ost.markdown("## ğŸ¯ Antes de ComeÃ§ar")st.markdown("""<div class="tip-card">    <h4>ğŸ“‹ O que vocÃª precisa ter em mÃ£os:</h4>    <ul>        <li><strong>ğŸ“Š Planilha de CST</strong>: arquivo Excel com as configuraÃ§Ãµes tributÃ¡rias</li>        <li><strong>ğŸ“„ Arquivos XML</strong>: das notas fiscais que deseja analisar (NF-e ou NFC-e)</li>        <li><strong>ğŸŒ Navegador</strong>: Chrome, Firefox, Edge ou Safari atualizado</li>    </ul></div>""", unsafe_allow_html=True)# Passo a passost.markdown("## ğŸš€ Passo a Passo")# Passo 1st.markdown("""<div class="step-card">    <h3>1ï¸âƒ£ Carregue a Tabela de CST</h3>    <p><strong>Local:</strong> SeÃ§Ã£o "ğŸ“Š Tabela de CST" na pÃ¡gina principal</p>    <p><strong>O que fazer:</strong></p>    <ul>        <li>Clique em "Browse files" ou arraste o arquivo Excel</li>        <li>Selecione o arquivo "Tabela de CST e CLASSIFICAÃ‡ÃƒO TRIBUTARIA.xlsx"</li>        <li>Aguarde a mensagem "âœ… Tabela CST carregada com sucesso!"</li>    </ul></div>""", unsafe_allow_html=True)st.markdown("""<div class="tip-card">    <strong>ğŸ’¡ Dica:</strong> A tabela sÃ³ precisa ser carregada uma vez por sessÃ£o.     VocÃª pode processar vÃ¡rias notas fiscais sem recarregar a tabela.</div>""", unsafe_allow_html=True)# Passo 2st.markdown("""<div class="step-card">    <h3>2ï¸âƒ£ Carregue as Notas Fiscais</h3>    <p><strong>Local:</strong> SeÃ§Ã£o "ğŸ“„ Notas Fiscais (XML)" na pÃ¡gina principal</p>    <p><strong>O que fazer:</strong></p>    <ul>        <li>Clique em "Browse files" ou arraste os arquivos XML</li>        <li>Selecione um ou mÃºltiplos arquivos XML de NF-e/NFC-e</li>        <li>Confirme que os arquivos aparecem na lista</li>    </ul></div>""", unsafe_allow_html=True)st.markdown("""<div class="tip-card">    <strong>ğŸ’¡ Dica:</strong> VocÃª pode carregar vÃ¡rias notas fiscais de uma vez!     Segure Ctrl (Windows) ou Cmd (Mac) para selecionar mÃºltiplos arquivos.</div>""", unsafe_allow_html=True)# Passo 3st.markdown("""<div class="step-card">    <h3>3ï¸âƒ£ Processe a AnÃ¡lise</h3>    <p><strong>Local:</strong> BotÃ£o azul "ğŸš€ Processar AnÃ¡lise TributÃ¡ria"</p>    <p><strong>O que fazer:</strong></p>    <ul>        <li>Clique no botÃ£o apÃ³s carregar a tabela CST e os XMLs</li>        <li>Aguarde a barra de progresso completar</li>        <li>Veja a mensagem de confirmaÃ§Ã£o do processamento</li>    </ul></div>""", unsafe_allow_html=True)st.markdown("""<div class="warning-card">    <strong>âš ï¸ AtenÃ§Ã£o:</strong> O processamento pode demorar alguns segundos dependendo     da quantidade de notas fiscais e itens.</div>""", unsafe_allow_html=True)# Passo 4st.markdown("""<div class="step-card">    <h3>4ï¸âƒ£ Analise os Resultados</h3>    <p><strong>Local:</strong> SeÃ§Ã£o "ğŸ“ˆ Resultados da AnÃ¡lise" (aparece apÃ³s processamento)</p>    <p><strong>O que vocÃª verÃ¡:</strong></p>    <ul>        <li><strong>ğŸ“Š Resumo Consolidado:</strong> mÃ©tricas gerais e diferenÃ§a total</li>        <li><strong>ğŸ” ComparaÃ§Ã£o Detalhada:</strong> tributos atuais vs RTI</li>        <li><strong>ğŸ“‹ Detalhamento por Item:</strong> tabela com todos os produtos</li>        <li><strong>ğŸ’¾ Download de RelatÃ³rios:</strong> opÃ§Ãµes de exportaÃ§Ã£o</li>    </ul></div>""", unsafe_allow_html=True)# Entendendo os resultadosst.markdown("## ğŸ“Š Entendendo os Resultados")col1, col2 = st.columns(2)with col1:    st.markdown("""    ### ğŸŸ¢ Economia (Verde)    - **Significado**: A RTI resultarÃ¡ em MENOS tributos    - **Cor**: Verde/positivo    - **SÃ­mbolo**: ğŸ‰    - **Exemplo**: "ECONOMIA de R$ 1.500 (15%)"    """)with col2:    st.markdown("""    ### ğŸ”´ Aumento (Vermelho)      - **Significado**: A RTI resultarÃ¡ em MAIS tributos    - **Cor**: Vermelho/negativo    - **SÃ­mbolo**: âš ï¸    - **Exemplo**: "AUMENTO de R$ 800 (8%)"    """)# ConfiguraÃ§Ãµes avanÃ§adasst.markdown("## âš™ï¸ ConfiguraÃ§Ãµes AvanÃ§adas")st.markdown("""<div class="step-card">    <h3>ğŸ›ï¸ Sidebar - ConfiguraÃ§Ãµes RTI</h3>    <p><strong>Local:</strong> Barra lateral esquerda (sidebar)</p>    <p><strong>O que ajustar:</strong></p>    <ul>        <li><strong>CBS (%):</strong> AlÃ­quota da ContribuiÃ§Ã£o sobre Bens e ServiÃ§os (padrÃ£o: 0,9%)</li>        <li><strong>IBS (%):</strong> AlÃ­quota do Imposto sobre Bens e ServiÃ§os (padrÃ£o: 26%)</li>        <li><strong>ğŸ”„ Reprocessar:</strong> BotÃ£o para recalcular com novas alÃ­quotas</li>    </ul></div>""", unsafe_allow_html=True)# Downloadsst.markdown("## ğŸ’¾ Exportando Resultados")st.markdown("""<div class="step-card">    <h3>ğŸ“¥ OpÃ§Ãµes de Download</h3>    <p><strong>Local:</strong> SeÃ§Ã£o "ğŸ’¾ Download de RelatÃ³rios"</p>    <p><strong>Tipos disponÃ­veis:</strong></p>    <ul>        <li><strong>ğŸ“„ RelatÃ³rio CSV:</strong> Dados detalhados em planilha</li>        <li><strong>ğŸ“Š Resumo Executivo:</strong> RelatÃ³rio em texto para apresentaÃ§Ãµes</li>    </ul></div>""", unsafe_allow_html=True)# Problemas comunsst.markdown("## ğŸ”§ Solucionando Problemas")problemas = [    {        "problema": "âŒ 'Arquivo nÃ£o parece ser uma NF-e vÃ¡lida'",        "solucao": "Verifique se o arquivo XML Ã© realmente de uma NF-e ou NFC-e. Abra o arquivo em um editor de texto para confirmar."    },    {        "problema": "âŒ 'Carregue primeiro a tabela de CST'",         "solucao": "VocÃª precisa carregar a planilha Excel com as configuraÃ§Ãµes de CST antes de processar os XMLs."    },    {        "problema": "âš ï¸ 'Nenhuma nota fiscal foi processada'",        "solucao": "Verifique se os arquivos XML estÃ£o corretos e nÃ£o corrompidos. Tente com um arquivo por vez."    },    {        "problema": "ğŸ”„ PÃ¡gina nÃ£o atualiza",        "solucao": "Recarregue a pÃ¡gina (F5) ou limpe o cache do navegador (Ctrl+F5)."    }]for item in problemas:    st.markdown(f"""    <div class="warning-card">        <strong>{item['problema']}</strong><br>        <em>SoluÃ§Ã£o:</em> {item['solucao']}    </div>    """, unsafe_allow_html=True)# Dicas importantesst.markdown("## ğŸ’¡ Dicas Importantes")dicas = [    "ğŸ”„ **Reprocessamento**: Se alterar as alÃ­quotas na sidebar, clique em 'Reprocessar CÃ¡lculos'",    "ğŸ“Š **MÃºltiplas anÃ¡lises**: VocÃª pode carregar novas notas sem recarregar a tabela CST",    "ğŸ’¾ **Backup**: Sempre baixe os relatÃ³rios antes de fechar o navegador",    "ğŸ¯ **PrecisÃ£o**: Os cÃ¡lculos sÃ£o baseados nos valores REAIS extraÃ­dos dos XMLs",    "ğŸ“ˆ **ComparaÃ§Ã£o**: Use os grÃ¡ficos para apresentaÃ§Ãµes visuais dos resultados"]for dica in dicas:    st.markdown(f"""    <div class="tip-card">        {dica}    </div>    """, unsafe_allow_html=True)# InformaÃ§Ãµes finaisst.markdown("---")st.markdown("### â„¹ï¸ InformaÃ§Ãµes Importantes")st.markdown("""<div class="important-card">    <strong>âš ï¸ Lembre-se:</strong>    <ul>        <li>Esta Ã© uma simulaÃ§Ã£o baseada na proposta atual da PLP 39/2015</li>        <li>Valores e regras podem mudar durante o processo legislativo</li>        <li>Consulte sempre um profissional especializado para decisÃµes definitivas</li>        <li>Mantenha backups dos seus dados e relatÃ³rios</li>    </ul></div>""", unsafe_allow_html=True)st.markdown("---")st.markdown("*ğŸ“– Manual criado para facilitar o uso da AnÃ¡lise TributÃ¡ria RTI - VersÃ£o 1.0*")