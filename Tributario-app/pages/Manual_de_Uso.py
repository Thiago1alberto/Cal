"""Manual de Uso - Como usar a Análise Tributária RTI"""import streamlit as st# Configuração da páginast.set_page_config(    page_title="Manual de Uso - RTI",    page_icon="📖",    layout="wide")# CSS customizadost.markdown("""<style>    .main-header {        background: linear-gradient(90deg, #1e3c72 0%, #2a5298 100%);        padding: 2rem;        border-radius: 10px;        color: white;        text-align: center;        margin-bottom: 2rem;    }        .step-card {        background: #ffffff;        padding: 1.5rem;        border-radius: 10px;        border: 1px solid #e0e0e0;        margin: 1rem 0;        box-shadow: 0 2px 4px rgba(0,0,0,0.1);    }        .tip-card {        background: #e8f5e8;        padding: 1rem;        border-radius: 8px;        border-left: 4px solid #28a745;        margin: 1rem 0;    }        .warning-card {        background: #fff3cd;        padding: 1rem;        border-radius: 8px;        border-left: 4px solid #ffc107;        margin: 1rem 0;    }        .important-card {        background: #f8d7da;        padding: 1rem;        border-radius: 8px;        border-left: 4px solid #dc3545;        margin: 1rem 0;    }</style>""", unsafe_allow_html=True)# Cabeçalhost.markdown("""<div class="main-header">    <h1>📖 Manual de Uso</h1>    <p>Guia prático para usar a Análise Tributária RTI</p></div>""", unsafe_allow_html=True)# Preparaçãost.markdown("## 🎯 Antes de Começar")st.markdown("""<div class="tip-card">    <h4>📋 O que você precisa ter em mãos:</h4>    <ul>        <li><strong>📊 Planilha de CST</strong>: arquivo Excel com as configurações tributárias</li>        <li><strong>📄 Arquivos XML</strong>: das notas fiscais que deseja analisar (NF-e ou NFC-e)</li>        <li><strong>🌐 Navegador</strong>: Chrome, Firefox, Edge ou Safari atualizado</li>    </ul></div>""", unsafe_allow_html=True)# Passo a passost.markdown("## 🚀 Passo a Passo")# Passo 1st.markdown("""<div class="step-card">    <h3>1️⃣ Carregue a Tabela de CST</h3>    <p><strong>Local:</strong> Seção "📊 Tabela de CST" na página principal</p>    <p><strong>O que fazer:</strong></p>    <ul>        <li>Clique em "Browse files" ou arraste o arquivo Excel</li>        <li>Selecione o arquivo "Tabela de CST e CLASSIFICAÇÃO TRIBUTARIA.xlsx"</li>        <li>Aguarde a mensagem "✅ Tabela CST carregada com sucesso!"</li>    </ul></div>""", unsafe_allow_html=True)st.markdown("""<div class="tip-card">    <strong>💡 Dica:</strong> A tabela só precisa ser carregada uma vez por sessão.     Você pode processar várias notas fiscais sem recarregar a tabela.</div>""", unsafe_allow_html=True)# Passo 2st.markdown("""<div class="step-card">    <h3>2️⃣ Carregue as Notas Fiscais</h3>    <p><strong>Local:</strong> Seção "📄 Notas Fiscais (XML)" na página principal</p>    <p><strong>O que fazer:</strong></p>    <ul>        <li>Clique em "Browse files" ou arraste os arquivos XML</li>        <li>Selecione um ou múltiplos arquivos XML de NF-e/NFC-e</li>        <li>Confirme que os arquivos aparecem na lista</li>    </ul></div>""", unsafe_allow_html=True)st.markdown("""<div class="tip-card">    <strong>💡 Dica:</strong> Você pode carregar várias notas fiscais de uma vez!     Segure Ctrl (Windows) ou Cmd (Mac) para selecionar múltiplos arquivos.</div>""", unsafe_allow_html=True)# Passo 3st.markdown("""<div class="step-card">    <h3>3️⃣ Processe a Análise</h3>    <p><strong>Local:</strong> Botão azul "🚀 Processar Análise Tributária"</p>    <p><strong>O que fazer:</strong></p>    <ul>        <li>Clique no botão após carregar a tabela CST e os XMLs</li>        <li>Aguarde a barra de progresso completar</li>        <li>Veja a mensagem de confirmação do processamento</li>    </ul></div>""", unsafe_allow_html=True)st.markdown("""<div class="warning-card">    <strong>⚠️ Atenção:</strong> O processamento pode demorar alguns segundos dependendo     da quantidade de notas fiscais e itens.</div>""", unsafe_allow_html=True)# Passo 4st.markdown("""<div class="step-card">    <h3>4️⃣ Analise os Resultados</h3>    <p><strong>Local:</strong> Seção "📈 Resultados da Análise" (aparece após processamento)</p>    <p><strong>O que você verá:</strong></p>    <ul>        <li><strong>📊 Resumo Consolidado:</strong> métricas gerais e diferença total</li>        <li><strong>🔍 Comparação Detalhada:</strong> tributos atuais vs RTI</li>        <li><strong>📋 Detalhamento por Item:</strong> tabela com todos os produtos</li>        <li><strong>💾 Download de Relatórios:</strong> opções de exportação</li>    </ul></div>""", unsafe_allow_html=True)# Entendendo os resultadosst.markdown("## 📊 Entendendo os Resultados")col1, col2 = st.columns(2)with col1:    st.markdown("""    ### 🟢 Economia (Verde)    - **Significado**: A RTI resultará em MENOS tributos    - **Cor**: Verde/positivo    - **Símbolo**: 🎉    - **Exemplo**: "ECONOMIA de R$ 1.500 (15%)"    """)with col2:    st.markdown("""    ### 🔴 Aumento (Vermelho)      - **Significado**: A RTI resultará em MAIS tributos    - **Cor**: Vermelho/negativo    - **Símbolo**: ⚠️    - **Exemplo**: "AUMENTO de R$ 800 (8%)"    """)# Configurações avançadasst.markdown("## ⚙️ Configurações Avançadas")st.markdown("""<div class="step-card">    <h3>🎛️ Sidebar - Configurações RTI</h3>    <p><strong>Local:</strong> Barra lateral esquerda (sidebar)</p>    <p><strong>O que ajustar:</strong></p>    <ul>        <li><strong>CBS (%):</strong> Alíquota da Contribuição sobre Bens e Serviços (padrão: 0,9%)</li>        <li><strong>IBS (%):</strong> Alíquota do Imposto sobre Bens e Serviços (padrão: 26%)</li>        <li><strong>🔄 Reprocessar:</strong> Botão para recalcular com novas alíquotas</li>    </ul></div>""", unsafe_allow_html=True)# Downloadsst.markdown("## 💾 Exportando Resultados")st.markdown("""<div class="step-card">    <h3>📥 Opções de Download</h3>    <p><strong>Local:</strong> Seção "💾 Download de Relatórios"</p>    <p><strong>Tipos disponíveis:</strong></p>    <ul>        <li><strong>📄 Relatório CSV:</strong> Dados detalhados em planilha</li>        <li><strong>📊 Resumo Executivo:</strong> Relatório em texto para apresentações</li>    </ul></div>""", unsafe_allow_html=True)# Problemas comunsst.markdown("## 🔧 Solucionando Problemas")problemas = [    {        "problema": "❌ 'Arquivo não parece ser uma NF-e válida'",        "solucao": "Verifique se o arquivo XML é realmente de uma NF-e ou NFC-e. Abra o arquivo em um editor de texto para confirmar."    },    {        "problema": "❌ 'Carregue primeiro a tabela de CST'",         "solucao": "Você precisa carregar a planilha Excel com as configurações de CST antes de processar os XMLs."    },    {        "problema": "⚠️ 'Nenhuma nota fiscal foi processada'",        "solucao": "Verifique se os arquivos XML estão corretos e não corrompidos. Tente com um arquivo por vez."    },    {        "problema": "🔄 Página não atualiza",        "solucao": "Recarregue a página (F5) ou limpe o cache do navegador (Ctrl+F5)."    }]for item in problemas:    st.markdown(f"""    <div class="warning-card">        <strong>{item['problema']}</strong><br>        <em>Solução:</em> {item['solucao']}    </div>    """, unsafe_allow_html=True)# Dicas importantesst.markdown("## 💡 Dicas Importantes")dicas = [    "🔄 **Reprocessamento**: Se alterar as alíquotas na sidebar, clique em 'Reprocessar Cálculos'",    "📊 **Múltiplas análises**: Você pode carregar novas notas sem recarregar a tabela CST",    "💾 **Backup**: Sempre baixe os relatórios antes de fechar o navegador",    "🎯 **Precisão**: Os cálculos são baseados nos valores REAIS extraídos dos XMLs",    "📈 **Comparação**: Use os gráficos para apresentações visuais dos resultados"]for dica in dicas:    st.markdown(f"""    <div class="tip-card">        {dica}    </div>    """, unsafe_allow_html=True)# Informações finaisst.markdown("---")st.markdown("### ℹ️ Informações Importantes")st.markdown("""<div class="important-card">    <strong>⚠️ Lembre-se:</strong>    <ul>        <li>Esta é uma simulação baseada na proposta atual da PLP 39/2015</li>        <li>Valores e regras podem mudar durante o processo legislativo</li>        <li>Consulte sempre um profissional especializado para decisões definitivas</li>        <li>Mantenha backups dos seus dados e relatórios</li>    </ul></div>""", unsafe_allow_html=True)st.markdown("---")st.markdown("*📖 Manual criado para facilitar o uso da Análise Tributária RTI - Versão 1.0*")